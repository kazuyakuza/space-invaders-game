# TODO Overview: fix bugs and implement testing plan

## Implement a way to test game

Previous note: while implementing this, maybe some game's error will arise. The idea is to implement this testing, then work on fix the errors LATER.

The idea is to build up a E2E test without loading the game in the browser. ie. execute the game in an abstract logically mode, without visual representation.

Modify the current base code so:

- a game simulation object can be created and controlled from the "outside", in testing mode only. More details below.
- a player controller simulator can be created, and used to simulate player's actions. More details below.

### Game Simulation Object

This object must keep the game state in the test.
It must have method to init the game, and any other required method for the player controller simulator object.

### Player Controller Simulator Object

This object will have methods to simulate player's actions.
So, have a method to simulate "press space bar", for example.
This will call required method in the Game Simulation Object.

### Overall Idea

The idea is that the test file creates the game object, then the player ctrl object.
Then, test each one of the cases.

### First Test Case to implement

The first case to implement its just the "Start the Game".
In the browser, the game is loaded and user press space bar to start the playing.
When player press space bar, a count down starts, and when it finish, the game must start.
We need to get a way to find that the game started: we may check the time, and the enemies positions (if the moved or not), and if a bullet came out from the player's ship.
If could not be verified that the game started, then the case failed to validate.

## Current Identified error

Currently, at the first level, when it should start, the game freezes and next error appears in the browser console:

Uncaught TypeError: Cannot read properties of undefined (reading 'length')
    at CollisionManager.handleCollisions (CollisionManager.ts:78:34)
    at Game.update (Game.ts:136:27)
    at loop (Game.ts:117:12)Understand this error

Fix this error.
